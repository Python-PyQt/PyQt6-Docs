.. sip:method-description::
    :status: todo
    :pysig: 54a5e8e51a9370586327f84486918a43
    :realsig: (const QModelIndex&,int,int,const QModelIndex&,int)
    :digest: a663dad2bc165bbf270ef5bed2c907cb

Begins a row move operation.

When reimplementing a subclass, this method simplifies moving entities in your model. This method is responsible for moving persistent indexes in the model, which you would otherwise be required to do yourself. Using  and :sip:ref:`~PyQt6.QtCore.QAbstractItemModel.endMoveRows` is an alternative to emitting :sip:ref:`~PyQt6.QtCore.QAbstractItemModel.layoutAboutToBeChanged` and :sip:ref:`~PyQt6.QtCore.QAbstractItemModel.layoutChanged` directly along with :sip:ref:`~PyQt6.QtCore.QAbstractItemModel.changePersistentIndex`.

The *sourceParent* index corresponds to the parent from which the rows are moved; *sourceFirst* and *sourceLast* are the first and last row numbers of the rows to be moved. The *destinationParent* index corresponds to the parent into which those rows are moved. The *destinationChild* is the row to which the rows will be moved. That is, the index at row *sourceFirst* in *sourceParent* will become row *destinationChild* in *destinationParent*, followed by all other rows up to *sourceLast*.

However, when moving rows down in the same parent (\ *sourceParent* and *destinationParent* are equal), the rows will be placed before the *destinationChild* index. That is, if you wish to move rows 0 and 1 so they will become rows 1 and 2, *destinationChild* should be 3. In this case, the new index for the source row ``i`` (which is between *sourceFirst* and *sourceLast*) is equal to ``(destinationChild-sourceLast-1+i)``.

Note that if *sourceParent* and *destinationParent* are the same, you must ensure that the *destinationChild* is not within the range of *sourceFirst* and *sourceLast* + 1. You must also ensure that you do not attempt to move a row to one of its own children or ancestors. This method returns ``false`` if either condition is true, in which case you should abort your move operation.

+-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| |image-modelview-move-rows-1-png| | Specify the first and last row numbers for the span of rows in the source parent you want to move in the model. Also specify the row in the destination parent to move the span to.                                                                                                                                                       |
|                                   |                                                                                                                                                                                                                                                                                                                                           |
|                                   | For example, as shown in the diagram, we move three rows from row 2 to 4 in the source, so *sourceFirst* is 2 and *sourceLast* is 4. We move those items to above row 2 in the destination, so *destinationChild* is 2.                                                                                                                   |
|                                   |                                                                                                                                                                                                                                                                                                                                           |
|                                   | .. literalinclude:: ../../../snippets/qtbase-src-corelib-doc-snippets-code-src_corelib_kernel_qabstractitemmodel.py                                                                                                                                                                                                                       |
|                                   |     :lines: 84-84                                                                                                                                                                                                                                                                                                                         |
|                                   |                                                                                                                                                                                                                                                                                                                                           |
|                                   | This moves the three rows rows 2, 3, and 4 in the source to become 2, 3 and 4 in the destination. Other affected siblings are displaced accordingly.                                                                                                                                                                                      |
+-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| |image-modelview-move-rows-2-png| | To append rows to another parent, move them to after the last row.                                                                                                                                                                                                                                                                        |
|                                   |                                                                                                                                                                                                                                                                                                                                           |
|                                   | For example, as shown in the diagram, we move three rows to a collection of 6 existing rows (ending in row 5), so *destinationChild* is 6:                                                                                                                                                                                                |
|                                   |                                                                                                                                                                                                                                                                                                                                           |
|                                   | .. literalinclude:: ../../../snippets/qtbase-src-corelib-doc-snippets-code-src_corelib_kernel_qabstractitemmodel.py                                                                                                                                                                                                                       |
|                                   |     :lines: 89-89                                                                                                                                                                                                                                                                                                                         |
|                                   |                                                                                                                                                                                                                                                                                                                                           |
|                                   | This moves the target rows to the end of the target parent as 6, 7 and 8.                                                                                                                                                                                                                                                                 |
+-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| |image-modelview-move-rows-3-png| | To move rows within the same parent, specify the row to move them to.                                                                                                                                                                                                                                                                     |
|                                   |                                                                                                                                                                                                                                                                                                                                           |
|                                   | For example, as shown in the diagram, we move one item from row 2 to row 0, so *sourceFirst* and *sourceLast* are 2 and *destinationChild* is 0.                                                                                                                                                                                          |
|                                   |                                                                                                                                                                                                                                                                                                                                           |
|                                   | .. literalinclude:: ../../../snippets/qtbase-src-corelib-doc-snippets-code-src_corelib_kernel_qabstractitemmodel.py                                                                                                                                                                                                                       |
|                                   |     :lines: 94-94                                                                                                                                                                                                                                                                                                                         |
|                                   |                                                                                                                                                                                                                                                                                                                                           |
|                                   | Note that other rows may be displaced accordingly. Note also that when moving items within the same parent you should not attempt invalid or no-op moves. In the above example, item 2 is at row 2 before the move, so it cannot be moved to row 2 (where it is already) or row 3 (no-op as row 3 means above row 3, where it is already) |
+-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| |image-modelview-move-rows-4-png| | To move rows within the same parent, specify the row to move them to.                                                                                                                                                                                                                                                                     |
|                                   |                                                                                                                                                                                                                                                                                                                                           |
|                                   | For example, as shown in the diagram, we move one item from row 2 to row 4, so *sourceFirst* and *sourceLast* are 2 and *destinationChild* is 4.                                                                                                                                                                                          |
|                                   |                                                                                                                                                                                                                                                                                                                                           |
|                                   | .. literalinclude:: ../../../snippets/qtbase-src-corelib-doc-snippets-code-src_corelib_kernel_qabstractitemmodel.py                                                                                                                                                                                                                       |
|                                   |     :lines: 99-99                                                                                                                                                                                                                                                                                                                         |
|                                   |                                                                                                                                                                                                                                                                                                                                           |
|                                   | Note that other rows may be displaced accordingly.                                                                                                                                                                                                                                                                                        |
+-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. seealso:: :sip:ref:`~PyQt6.QtCore.QAbstractItemModel.endMoveRows`.

.. |image-modelview-move-rows-1-png| image:: ../../../images/modelview-move-rows-1.png
.. |image-modelview-move-rows-2-png| image:: ../../../images/modelview-move-rows-2.png
.. |image-modelview-move-rows-3-png| image:: ../../../images/modelview-move-rows-3.png
.. |image-modelview-move-rows-4-png| image:: ../../../images/modelview-move-rows-4.png
