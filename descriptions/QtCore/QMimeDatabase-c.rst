.. sip:class-description::
    :status: todo
    :brief: Maintains a database of MIME types
    :digest: 9465cb6f6f1e296db1ded6dbb185726a

The :sip:ref:`~PyQt6.QtCore.QMimeDatabase` class maintains a database of MIME types.

The MIME type database is provided by the freedesktop.org shared-mime-info project. If the MIME type database cannot be found on the system, as is the case on most Windows, macOS, and iOS systems, Qt will use its own copy of it.

Applications which want to define custom MIME types need to install an XML file into the locations searched for MIME definitions. These locations can be queried with

.. literalinclude:: ../../../snippets/qtbase-src-corelib-doc-snippets-code-src_corelib_mimetype_qmimedatabase.py
    :lines: 62-63

On a typical Unix system, this will be /usr/share/mime/packages/, but it is also possible to extend the list of directories by setting the environment variable ``XDG_DATA_DIRS``. For instance adding /opt/myapp/share to ``XDG_DATA_DIRS`` will result in /opt/myapp/share/mime/packages/ being searched for MIME definitions.

Here is an example of MIME XML:

.. literalinclude:: ../../../snippets/qtbase-src-corelib-doc-snippets-code-src_corelib_mimetype_qmimedatabase.py
    :lines: 67-73

For more details about the syntax of XML MIME definitions, including defining "magic" in order to detect MIME types based on data as well, read the Shared Mime Info specification at http://standards.freedesktop.org/shared-mime-info-spec/shared-mime-info-spec-latest.html

On Unix systems, a binary cache is used for more performance. This cache is generated by the command "update-mime-database path", where path would be /opt/myapp/share/mime in the above example. Make sure to run this command when installing the MIME type definition file.

.. literalinclude:: ../../../snippets/qtbase-src-corelib-doc-snippets-code-src_corelib_mimetype_qmimedatabase.py
    :lines: 54-58

.. seealso:: :sip:ref:`~PyQt6.QtCore.QMimeType`, `MIME Type Browser <https://doc.qt.io/qt-6/qtcore-mimetypes-mimetypebrowser-example.html>`_.
