.. sip:class-description::
    :status: todo
    :brief: The base class for all widget items in a QGraphicsScene
    :digest: b527a1381ecd8264db16fb74b14fcdca

The `QGraphicsWidget <https://doc.qt.io/qt-6/graphicsview.html#qgraphicswidget>`_ class is the base class for all widget items in a :sip:ref:`~PyQt6.QtWidgets.QGraphicsScene`.

`QGraphicsWidget <https://doc.qt.io/qt-6/graphicsview.html#qgraphicswidget>`_ is an extended base item that provides extra functionality over :sip:ref:`~PyQt6.QtWidgets.QGraphicsItem`. It is similar to `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_ in many ways:

* Provides a :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.palette`, a `font <https://doc.qt.io/qt-6/stylesheet-reference.html#font>`_ and a :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.style`.

* Has a defined geometry().

* Supports layouts with :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.setLayout` and :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.layout`.

* Supports shortcuts and actions with :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.grabShortcut` and :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.insertAction`

Unlike :sip:ref:`~PyQt6.QtWidgets.QGraphicsItem`, `QGraphicsWidget <https://doc.qt.io/qt-6/graphicsview.html#qgraphicswidget>`_ is not an abstract class; you can create instances of a `QGraphicsWidget <https://doc.qt.io/qt-6/graphicsview.html#qgraphicswidget>`_ without having to subclass it. This approach is useful for widgets that only serve the purpose of organizing child widgets into a layout.

`QGraphicsWidget <https://doc.qt.io/qt-6/graphicsview.html#qgraphicswidget>`_ can be used as a base item for your own custom item if you require advanced input focus handling, e.g., tab focus and activation, or layouts.

Since `QGraphicsWidget <https://doc.qt.io/qt-6/graphicsview.html#qgraphicswidget>`_ resembles `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_ and has similar API, it is easier to port a widget from `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_ to `QGraphicsWidget <https://doc.qt.io/qt-6/graphicsview.html#qgraphicswidget>`_, instead of :sip:ref:`~PyQt6.QtWidgets.QGraphicsItem`.

**Note:** `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_-based widgets can be directly embedded into a :sip:ref:`~PyQt6.QtWidgets.QGraphicsScene` using :sip:ref:`~PyQt6.QtWidgets.QGraphicsProxyWidget`.

Noticeable differences between `QGraphicsWidget <https://doc.qt.io/qt-6/graphicsview.html#qgraphicswidget>`_ and `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_ are:

+-----------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `QGraphicsWidget <https://doc.qt.io/qt-6/graphicsview.html#qgraphicswidget>`_                                                                 | `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_                                                                                            |
+===============================================================================================================================================+=================================================================================================================================================================+
| Coordinates and geometry are defined with qreals (doubles or floats, depending on the platform).                                              | `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_ uses integer geometry (\ :sip:ref:`~PyQt6.QtCore.QPoint`, :sip:ref:`~PyQt6.QtCore.QRect`). |
+-----------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| The widget is already visible by default; you do not have to call show() to display the widget.                                               | `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_ is hidden by default until you call show().                                                |
+-----------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| A subset of widget attributes are supported.                                                                                                  | All widget attributes are supported.                                                                                                                            |
+-----------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| A top-level item's style defaults to :sip:ref:`~PyQt6.QtWidgets.QGraphicsScene.style`                                                         | A top-level widget's style defaults to :sip:ref:`~PyQt6.QtWidgets.QApplication.style`                                                                           |
+-----------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Graphics View provides a custom drag and drop framework, different from `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_. | Standard drag and drop framework.                                                                                                                               |
+-----------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Widget items do not support modality.                                                                                                         | Full modality support.                                                                                                                                          |
+-----------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+

`QGraphicsWidget <https://doc.qt.io/qt-6/graphicsview.html#qgraphicswidget>`_ supports a subset of Qt's widget attributes, (\ :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute`), as shown in the table below. Any attributes not listed in this table are unsupported, or otherwise unused.

+-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Widget Attribute                                                  | Usage                                                                                                                                                                                                                                                                                                                                                                                                         |
+===================================================================+===============================================================================================================================================================================================================================================================================================================================================================================================================+
| :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_SetLayoutDirection` | Set by :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.setLayoutDirection`, cleared by :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.unsetLayoutDirection`. You can test this attribute to check if the widget has been explicitly assigned a :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.layoutDirection`. If the attribute is not set, the :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.layoutDirection` is inherited. |
+-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_RightToLeft`        | Toggled by :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.setLayoutDirection`. Inherited from the parent/scene. If set, the widget's layout will order horizontally arranged widgets from right to left.                                                                                                                                                                                                          |
+-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_SetStyle`           | Set and cleared by :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.setStyle`. If this attribute is set, the widget has been explicitly assigned a style. If it is unset, the widget will use the scene's or the application's style.                                                                                                                                                                               |
+-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_Resized`            | Set by :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.setGeometry` and :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.resize`.                                                                                                                                                                                                                                                                                        |
+-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_SetPalette`         | Set by :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.setPalette`.                                                                                                                                                                                                                                                                                                                                                |
+-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_SetFont`            | Set by :sip:ref:`~PyQt6.QtWidgets.QGraphicsWidget.setFont`.                                                                                                                                                                                                                                                                                                                                                   |
+-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_WindowPropagation`  | Enables propagation to window widgets.                                                                                                                                                                                                                                                                                                                                                                        |
+-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Although `QGraphicsWidget <https://doc.qt.io/qt-6/graphicsview.html#qgraphicswidget>`_ inherits from both :sip:ref:`~PyQt6.QtCore.QObject` and :sip:ref:`~PyQt6.QtWidgets.QGraphicsItem`, you should use the functions provided by :sip:ref:`~PyQt6.QtWidgets.QGraphicsItem`, *not* :sip:ref:`~PyQt6.QtCore.QObject`, to manage the relationships between parent and child items. These functions control the stacking order of items as well as their ownership.

**Note:** The :sip:ref:`~PyQt6.QtCore.QObject.parent` should always return ``nullptr`` for QGraphicsWidgets, but this policy is not strictly defined.

.. seealso:: :sip:ref:`~PyQt6.QtWidgets.QGraphicsProxyWidget`, :sip:ref:`~PyQt6.QtWidgets.QGraphicsItem`, `Widgets and Layouts <https://doc.qt.io/qt-6/graphicsview.html#widgets-and-layouts>`_.
