.. sip:class-description::
    :status: todo
    :brief: The base class of all user interface objects
    :digest: 2eff49d4615366f3957d2ff7eaddcdec

The `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_ class is the base class of all user interface objects.

The widget is the atom of the user interface: it receives mouse, keyboard and other events from the window system, and paints a representation of itself on the screen. Every widget is rectangular, and they are sorted in a Z-order. A widget is clipped by its parent and by the widgets in front of it.

A widget that is not embedded in a parent widget is called a window. Usually, windows have a frame and a title bar, although it is also possible to create windows without such decoration using suitable window flags. In Qt, :sip:ref:`~PyQt6.QtWidgets.QMainWindow` and the various subclasses of :sip:ref:`~PyQt6.QtWidgets.QDialog` are the most common window types.

Every widget's constructor accepts one or two standard arguments:

#. ``QWidget \*parent = nullptr`` is the parent of the new widget. If it is ``nullptr`` (the default), the new widget will be a window. If not, it will be a child of *parent*, and be constrained by *parent*'s geometry (unless you specify :sip:ref:`~PyQt6.QtCore.Qt.WindowFlags.Window` as window flag).

#. ``Qt::WindowFlags f = { }`` (where available) sets the window flags; the default is suitable for almost all widgets, but to get, for example, a window without a window system frame, you must use special flags.

`QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_ has many member functions, but some of them have little direct functionality; for example, `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_ has a font property, but never uses this itself. There are many subclasses which provide real functionality, such as :sip:ref:`~PyQt6.QtWidgets.QLabel`, :sip:ref:`~PyQt6.QtWidgets.QPushButton`, :sip:ref:`~PyQt6.QtWidgets.QListWidget`, and :sip:ref:`~PyQt6.QtWidgets.QTabWidget`.

.. _qwidget-top-level-and-child-widgets:

Top-Level and Child Widgets
---------------------------

A widget without a parent widget is always an independent window (top-level widget). For these widgets, :sip:ref:`~PyQt6.QtWidgets.QWidget.setWindowTitle` and :sip:ref:`~PyQt6.QtWidgets.QWidget.setWindowIcon` set the title bar and icon respectively.

Non-window widgets are child widgets, displayed within their parent widgets. Most widgets in Qt are mainly useful as child widgets. For example, it is possible to display a button as a top-level window, but most people prefer to put their buttons inside other widgets, such as :sip:ref:`~PyQt6.QtWidgets.QDialog`.

.. image:: ../../../images/parent-child-widgets.png

The diagram above shows a :sip:ref:`~PyQt6.QtWidgets.QGroupBox` widget being used to hold various child widgets in a layout provided by :sip:ref:`~PyQt6.QtWidgets.QGridLayout`. The :sip:ref:`~PyQt6.QtWidgets.QLabel` child widgets have been outlined to indicate their full sizes.

If you want to use a `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_ to hold child widgets you will usually want to add a layout to the parent `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_. See `Layout Management <https://doc.qt.io/qt-6/layout.html>`_ for more information.

.. _qwidget-composite-widgets:

Composite Widgets
-----------------

When a widget is used as a container to group a number of child widgets, it is known as a composite widget. These can be created by constructing a widget with the required visual properties - a :sip:ref:`~PyQt6.QtWidgets.QFrame`, for example - and adding child widgets to it, usually managed by a layout. The above diagram shows such a composite widget that was created using Qt Designer.

Composite widgets can also be created by subclassing a standard widget, such as `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_ or :sip:ref:`~PyQt6.QtWidgets.QFrame`, and adding the necessary layout and child widgets in the constructor of the subclass. Many of the `examples provided with Qt <https://doc.qt.io/qt-6/examples-widgets.html>`_ use this approach, and it is also covered in the Qt `Tutorials <https://doc.qt.io/qt-6/qtwidgets-index.html#tutorials>`_.

.. _qwidget-custom-widgets-and-painting:

Custom Widgets and Painting
---------------------------

Since `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_ is a subclass of :sip:ref:`~PyQt6.QtGui.QPaintDevice`, subclasses can be used to display custom content that is composed using a series of painting operations with an instance of the :sip:ref:`~PyQt6.QtGui.QPainter` class. This approach contrasts with the canvas-style approach used by the `Graphics View Framework <https://doc.qt.io/qt-6/graphicsview.html>`_ where items are added to a scene by the application and are rendered by the framework itself.

Each widget performs all painting operations from within its :sip:ref:`~PyQt6.QtWidgets.QWidget.paintEvent` function. This is called whenever the widget needs to be redrawn, either as a result of some external change or when requested by the application.

The `Analog Clock example <https://doc.qt.io/qt-6/qtwidgets-widgets-analogclock-example.html>`_ shows how a simple widget can handle paint events.

.. _qwidget-size-hints-and-size-policies:

Size Hints and Size Policies
----------------------------

When implementing a new widget, it is almost always useful to reimplement :sip:ref:`~PyQt6.QtWidgets.QWidget.sizeHint` to provide a reasonable default size for the widget and to set the correct size policy with :sip:ref:`~PyQt6.QtWidgets.QWidget.setSizePolicy`.

By default, composite widgets which do not provide a size hint will be sized according to the space requirements of their child widgets.

The size policy lets you supply good default behavior for the layout management system, so that other widgets can contain and manage yours easily. The default size policy indicates that the size hint represents the preferred size of the widget, and this is often good enough for many widgets.

**Note:** The size of top-level widgets are constrained to 2/3 of the desktop's height and width. You can :sip:ref:`~PyQt6.QtWidgets.QWidget.resize` the widget manually if these bounds are inadequate.

.. _qwidget-events:

Events
------

Widgets respond to events that are typically caused by user actions. Qt delivers events to widgets by calling specific event handler functions with instances of :sip:ref:`~PyQt6.QtCore.QEvent` subclasses containing information about each event.

If your widget only contains child widgets, you probably do not need to implement any event handlers. If you want to detect a mouse click in a child widget call the child's :sip:ref:`~PyQt6.QtWidgets.QWidget.underMouse` function inside the widget's :sip:ref:`~PyQt6.QtWidgets.QWidget.mousePressEvent`.

The `Scribble example <https://doc.qt.io/qt-6/qtwidgets-widgets-scribble-example.html>`_ implements a wider set of events to handle mouse movement, button presses, and window resizing.

You will need to supply the behavior and content for your own widgets, but here is a brief overview of the events that are relevant to `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_, starting with the most common ones:

* :sip:ref:`~PyQt6.QtWidgets.QWidget.paintEvent` is called whenever the widget needs to be repainted. Every widget displaying custom content must implement it. Painting using a :sip:ref:`~PyQt6.QtGui.QPainter` can only take place in a :sip:ref:`~PyQt6.QtWidgets.QWidget.paintEvent` or a function called by a :sip:ref:`~PyQt6.QtWidgets.QWidget.paintEvent`.

* :sip:ref:`~PyQt6.QtWidgets.QWidget.resizeEvent` is called when the widget has been resized.

* :sip:ref:`~PyQt6.QtWidgets.QWidget.mousePressEvent` is called when a mouse button is pressed while the mouse cursor is inside the widget, or when the widget has grabbed the mouse using :sip:ref:`~PyQt6.QtWidgets.QWidget.grabMouse`. Pressing the mouse without releasing it is effectively the same as calling :sip:ref:`~PyQt6.QtWidgets.QWidget.grabMouse`.

* :sip:ref:`~PyQt6.QtWidgets.QWidget.mouseReleaseEvent` is called when a mouse button is released. A widget receives mouse release events when it has received the corresponding mouse press event. This means that if the user presses the mouse inside *your* widget, then drags the mouse somewhere else before releasing the mouse button, *your* widget receives the release event. There is one exception: if a popup menu appears while the mouse button is held down, this popup immediately steals the mouse events.

* :sip:ref:`~PyQt6.QtWidgets.QWidget.mouseDoubleClickEvent` is called when the user double-clicks in the widget. If the user double-clicks, the widget receives a mouse press event, a mouse release event, (a mouse click event,) a second mouse press, this event and finally a second mouse release event. (Some mouse move events may also be received if the mouse is not held steady during this operation.) It is *not possible* to distinguish a click from a double-click until the second click arrives. (This is one reason why most GUI books recommend that double-clicks be an extension of single-clicks, rather than trigger a different action.)

Widgets that accept keyboard input need to reimplement a few more event handlers:

* :sip:ref:`~PyQt6.QtWidgets.QWidget.keyPressEvent` is called whenever a key is pressed, and again when a key has been held down long enough for it to auto-repeat. The Tab and Shift+Tab keys are only passed to the widget if they are not used by the focus-change mechanisms. To force those keys to be processed by your widget, you must reimplement :sip:ref:`~PyQt6.QtWidgets.QWidget.event`.

* :sip:ref:`~PyQt6.QtWidgets.QWidget.focusInEvent` is called when the widget gains keyboard focus (assuming you have called :sip:ref:`~PyQt6.QtWidgets.QWidget.setFocusPolicy`). Well-behaved widgets indicate that they own the keyboard focus in a clear but discreet way.

* :sip:ref:`~PyQt6.QtWidgets.QWidget.focusOutEvent` is called when the widget loses keyboard focus.

You may be required to also reimplement some of the less common event handlers:

* :sip:ref:`~PyQt6.QtWidgets.QWidget.mouseMoveEvent` is called whenever the mouse moves while a mouse button is held down. This can be useful during drag and drop operations. If you call :sip:ref:`~PyQt6.QtWidgets.QWidget.setMouseTracking`\ (true), you get mouse move events even when no buttons are held down. (See also the `Drag and Drop <https://doc.qt.io/qt-6/graphicsview.html#drag-and-drop>`_ guide.)

* :sip:ref:`~PyQt6.QtWidgets.QWidget.keyReleaseEvent` is called whenever a key is released and while it is held down (if the key is auto-repeating). In that case, the widget will receive a pair of key release and key press event for every repeat. The Tab and Shift+Tab keys are only passed to the widget if they are not used by the focus-change mechanisms. To force those keys to be processed by your widget, you must reimplement :sip:ref:`~PyQt6.QtWidgets.QWidget.event`.

* :sip:ref:`~PyQt6.QtWidgets.QWidget.wheelEvent` is called whenever the user turns the mouse wheel while the widget has the focus.

* :sip:ref:`~PyQt6.QtWidgets.QWidget.enterEvent` is called when the mouse enters the widget's screen space. (This excludes screen space owned by any of the widget's children.)

* :sip:ref:`~PyQt6.QtWidgets.QWidget.leaveEvent` is called when the mouse leaves the widget's screen space. If the mouse enters a child widget it will not cause a :sip:ref:`~PyQt6.QtWidgets.QWidget.leaveEvent`.

* :sip:ref:`~PyQt6.QtWidgets.QWidget.moveEvent` is called when the widget has been moved relative to its parent.

* :sip:ref:`~PyQt6.QtWidgets.QWidget.closeEvent` is called when the user closes the widget (or when :sip:ref:`~PyQt6.QtWidgets.QWidget.close` is called).

There are also some rather obscure events described in the documentation for :sip:ref:`~PyQt6.QtCore.QEvent.Type`. To handle these events, you need to reimplement :sip:ref:`~PyQt6.QtWidgets.QWidget.event` directly.

The default implementation of :sip:ref:`~PyQt6.QtWidgets.QWidget.event` handles Tab and Shift+Tab (to move the keyboard focus), and passes on most of the other events to one of the more specialized handlers above.

Events and the mechanism used to deliver them are covered in `The Event System <https://doc.qt.io/qt-6/eventsandfilters.html>`_.

.. _qwidget-groups-of-functions-and-properties:

Groups of Functions and Properties
----------------------------------

+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Context                     | Functions and Properties                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
+=============================+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| Window functions            | :sip:ref:`~PyQt6.QtWidgets.QWidget.show`, :sip:ref:`~PyQt6.QtWidgets.QWidget.hide`, :sip:ref:`~PyQt6.QtWidgets.QWidget.raise_`, :sip:ref:`~PyQt6.QtWidgets.QWidget.lower`, :sip:ref:`~PyQt6.QtWidgets.QWidget.close`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Top-level windows           | windowModified, :sip:ref:`~PyQt6.QtWidgets.QWidget.windowTitle`, :sip:ref:`~PyQt6.QtWidgets.QWidget.windowIcon`, :sip:ref:`~PyQt6.QtWidgets.QWidget.isActiveWindow`, :sip:ref:`~PyQt6.QtWidgets.QWidget.activateWindow`, minimized, :sip:ref:`~PyQt6.QtWidgets.QWidget.showMinimized`, maximized, :sip:ref:`~PyQt6.QtWidgets.QWidget.showMaximized`, fullScreen, :sip:ref:`~PyQt6.QtWidgets.QWidget.showFullScreen`, :sip:ref:`~PyQt6.QtWidgets.QWidget.showNormal`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Window contents             | :sip:ref:`~PyQt6.QtWidgets.QWidget.update`, :sip:ref:`~PyQt6.QtWidgets.QWidget.repaint`, :sip:ref:`~PyQt6.QtWidgets.QWidget.scroll`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Geometry                    | :sip:ref:`~PyQt6.QtWidgets.QWidget.pos`, :sip:ref:`~PyQt6.QtWidgets.QWidget.x`, :sip:ref:`~PyQt6.QtWidgets.QWidget.y`, :sip:ref:`~PyQt6.QtWidgets.QWidget.rect`, :sip:ref:`~PyQt6.QtWidgets.QWidget.size`, :sip:ref:`~PyQt6.QtWidgets.QWidget.width`, :sip:ref:`~PyQt6.QtWidgets.QWidget.height`, :sip:ref:`~PyQt6.QtWidgets.QWidget.move`, :sip:ref:`~PyQt6.QtWidgets.QWidget.resize`, :sip:ref:`~PyQt6.QtWidgets.QWidget.sizePolicy`, :sip:ref:`~PyQt6.QtWidgets.QWidget.sizeHint`, :sip:ref:`~PyQt6.QtWidgets.QWidget.minimumSizeHint`, :sip:ref:`~PyQt6.QtWidgets.QWidget.updateGeometry`, :sip:ref:`~PyQt6.QtWidgets.QWidget.layout`, :sip:ref:`~PyQt6.QtWidgets.QWidget.frameGeometry`, :sip:ref:`~PyQt6.QtWidgets.QWidget.geometry`, :sip:ref:`~PyQt6.QtWidgets.QWidget.childrenRect`, :sip:ref:`~PyQt6.QtWidgets.QWidget.childrenRegion`, :sip:ref:`~PyQt6.QtWidgets.QWidget.adjustSize`, :sip:ref:`~PyQt6.QtWidgets.QWidget.mapFromGlobal`, :sip:ref:`~PyQt6.QtWidgets.QWidget.mapToGlobal`, :sip:ref:`~PyQt6.QtWidgets.QWidget.mapFromParent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.mapToParent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.maximumSize`, :sip:ref:`~PyQt6.QtWidgets.QWidget.minimumSize`, :sip:ref:`~PyQt6.QtWidgets.QWidget.sizeIncrement`, :sip:ref:`~PyQt6.QtWidgets.QWidget.baseSize`, :sip:ref:`~PyQt6.QtWidgets.QWidget.setFixedSize` |
+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Mode                        | visible, :sip:ref:`~PyQt6.QtWidgets.QWidget.isVisibleTo`, enabled, :sip:ref:`~PyQt6.QtWidgets.QWidget.isEnabledTo`, modal, :sip:ref:`~PyQt6.QtWidgets.QWidget.isWindow`, mouseTracking, :sip:ref:`~PyQt6.QtWidgets.QWidget.updatesEnabled`, :sip:ref:`~PyQt6.QtWidgets.QWidget.visibleRegion`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Look and feel               | :sip:ref:`~PyQt6.QtWidgets.QWidget.style`, :sip:ref:`~PyQt6.QtWidgets.QWidget.setStyle`, `styleSheet <https://doc.qt.io/qt-6/stylesheet.html>`_, :sip:ref:`~PyQt6.QtWidgets.QWidget.cursor`, `font <https://doc.qt.io/qt-6/stylesheet-reference.html#font>`_, :sip:ref:`~PyQt6.QtWidgets.QWidget.palette`, :sip:ref:`~PyQt6.QtWidgets.QWidget.backgroundRole`, :sip:ref:`~PyQt6.QtWidgets.QWidget.setBackgroundRole`, :sip:ref:`~PyQt6.QtWidgets.QWidget.fontInfo`, :sip:ref:`~PyQt6.QtWidgets.QWidget.fontMetrics`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Keyboard focus functions    | focus, :sip:ref:`~PyQt6.QtWidgets.QWidget.focusPolicy`, :sip:ref:`~PyQt6.QtWidgets.QWidget.setFocus`, :sip:ref:`~PyQt6.QtWidgets.QWidget.clearFocus`, :sip:ref:`~PyQt6.QtWidgets.QWidget.setTabOrder`, :sip:ref:`~PyQt6.QtWidgets.QWidget.setFocusProxy`, :sip:ref:`~PyQt6.QtWidgets.QWidget.focusNextChild`, :sip:ref:`~PyQt6.QtWidgets.QWidget.focusPreviousChild`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Mouse and keyboard grabbing | :sip:ref:`~PyQt6.QtWidgets.QWidget.grabMouse`, :sip:ref:`~PyQt6.QtWidgets.QWidget.releaseMouse`, :sip:ref:`~PyQt6.QtWidgets.QWidget.grabKeyboard`, :sip:ref:`~PyQt6.QtWidgets.QWidget.releaseKeyboard`, :sip:ref:`~PyQt6.QtWidgets.QWidget.mouseGrabber`, :sip:ref:`~PyQt6.QtWidgets.QWidget.keyboardGrabber`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Event handlers              | :sip:ref:`~PyQt6.QtWidgets.QWidget.event`, :sip:ref:`~PyQt6.QtWidgets.QWidget.mousePressEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.mouseReleaseEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.mouseDoubleClickEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.mouseMoveEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.keyPressEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.keyReleaseEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.focusInEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.focusOutEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.wheelEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.enterEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.leaveEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.paintEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.moveEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.resizeEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.closeEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.dragEnterEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.dragMoveEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.dragLeaveEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.dropEvent`, childEvent(), :sip:ref:`~PyQt6.QtWidgets.QWidget.showEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.hideEvent`, customEvent(). :sip:ref:`~PyQt6.QtWidgets.QWidget.changeEvent`,                                                                                                                                      |
+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| System functions            | :sip:ref:`~PyQt6.QtWidgets.QWidget.parentWidget`, :sip:ref:`~PyQt6.QtWidgets.QWidget.window`, :sip:ref:`~PyQt6.QtWidgets.QWidget.setParent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.winId`, :sip:ref:`~PyQt6.QtWidgets.QWidget.find`, :sip:ref:`~PyQt6.QtWidgets.QWidget.metric`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Context menu                | :sip:ref:`~PyQt6.QtWidgets.QWidget.contextMenuPolicy`, :sip:ref:`~PyQt6.QtWidgets.QWidget.contextMenuEvent`, :sip:ref:`~PyQt6.QtWidgets.QWidget.customContextMenuRequested`, :sip:ref:`~PyQt6.QtWidgets.QWidget.actions`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Interactive help            | :sip:ref:`~PyQt6.QtWidgets.QWidget.setToolTip`, :sip:ref:`~PyQt6.QtWidgets.QWidget.setWhatsThis`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _qwidget-widget-style-sheets:

Widget Style Sheets
-------------------

In addition to the standard widget styles for each platform, widgets can also be styled according to rules specified in a `style sheet <https://doc.qt.io/qt-6/stylesheet.html>`_. This feature enables you to customize the appearance of specific widgets to provide visual cues to users about their purpose. For example, a button could be styled in a particular way to indicate that it performs a destructive action.

The use of widget style sheets is described in more detail in the `Qt Style Sheets <https://doc.qt.io/qt-6/stylesheet.html>`_ document.

.. _qwidget-transparency-and-double-buffering:

Transparency and Double Buffering
---------------------------------

Since Qt 4.0, `QWidget <https://doc.qt.io/qt-6/widgets-changes-qt6.html#qwidget>`_ automatically double-buffers its painting, so there is no need to write double-buffering code in :sip:ref:`~PyQt6.QtWidgets.QWidget.paintEvent` to avoid flicker.

Since Qt 4.1, the contents of parent widgets are propagated by default to each of their children as long as :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_PaintOnScreen` is not set. Custom widgets can be written to take advantage of this feature by updating irregular regions (to create non-rectangular child widgets), or painting with colors that have less than full alpha component. The following diagram shows how attributes and properties of a custom widget can be fine-tuned to achieve different effects.

.. image:: ../../../images/propagation-custom.png

In the above diagram, a semi-transparent rectangular child widget with an area removed is constructed and added to a parent widget (a :sip:ref:`~PyQt6.QtWidgets.QLabel` showing a pixmap). Then, different properties and widget attributes are set to achieve different effects:

* The left widget has no additional properties or widget attributes set. This default state suits most custom widgets using transparency, are irregularly-shaped, or do not paint over their entire area with an opaque brush.

* The center widget has the :sip:ref:`~PyQt6.QtWidgets.QWidget.autoFillBackground` property set. This property is used with custom widgets that rely on the widget to supply a default background, and do not paint over their entire area with an opaque brush.

* The right widget has the :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_OpaquePaintEvent` widget attribute set. This indicates that the widget will paint over its entire area with opaque colors. The widget's area will initially be *uninitialized*, represented in the diagram with a red diagonal grid pattern that shines through the overpainted area. The Qt::WA_OpaquePaintArea attribute is useful for widgets that need to paint their own specialized contents quickly and do not need a default filled background.

To rapidly update custom widgets with simple background colors, such as real-time plotting or graphing widgets, it is better to define a suitable background color (using :sip:ref:`~PyQt6.QtWidgets.QWidget.setBackgroundRole` with the :sip:ref:`~PyQt6.QtGui.QPalette.ColorRole.Window` role), set the :sip:ref:`~PyQt6.QtWidgets.QWidget.autoFillBackground` property, and only implement the necessary drawing functionality in the widget's :sip:ref:`~PyQt6.QtWidgets.QWidget.paintEvent`.

To rapidly update custom widgets that constantly paint over their entire areas with opaque content, e.g., video streaming widgets, it is better to set the widget's :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_OpaquePaintEvent`, avoiding any unnecessary overhead associated with repainting the widget's background.

If a widget has both the :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_OpaquePaintEvent` widget attribute *and* the :sip:ref:`~PyQt6.QtWidgets.QWidget.autoFillBackground` property set, the :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_OpaquePaintEvent` attribute takes precedence. Depending on your requirements, you should choose either one of them.

Since Qt 4.1, the contents of parent widgets are also propagated to standard Qt widgets. This can lead to some unexpected results if the parent widget is decorated in a non-standard way, as shown in the diagram below.

.. image:: ../../../images/propagation-standard.png

The scope for customizing the painting behavior of standard Qt widgets, without resorting to subclassing, is slightly less than that possible for custom widgets. Usually, the desired appearance of a standard widget can be achieved by setting its :sip:ref:`~PyQt6.QtWidgets.QWidget.autoFillBackground` property.

.. _qwidget-creating-translucent-windows:

Creating Translucent Windows
----------------------------

Since Qt 4.5, it has been possible to create windows with translucent regions on window systems that support compositing.

To enable this feature in a top-level widget, set its :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_TranslucentBackground` attribute with :sip:ref:`~PyQt6.QtWidgets.QWidget.setAttribute` and ensure that its background is painted with non-opaque colors in the regions you want to be partially transparent.

Platform notes:

* X11: This feature relies on the use of an X server that supports ARGB visuals and a compositing window manager.

* Windows: The widget needs to have the :sip:ref:`~PyQt6.QtCore.Qt.WindowFlags.FramelessWindowHint` window flag set for the translucency to work.

.. _qwidget-native-widgets-vs-alien-widgets:

Native Widgets vs Alien Widgets
-------------------------------

Introduced in Qt 4.4, alien widgets are widgets unknown to the windowing system. They do not have a native window handle associated with them. This feature significantly speeds up widget painting, resizing, and removes flicker.

Should you require the old behavior with native windows, you can choose one of the following options:

#. Use the ``QT_USE_NATIVE_WINDOWS=1`` in your environment.

#. Set the :sip:ref:`~PyQt6.QtCore.Qt.ApplicationAttribute.AA_NativeWindows` attribute on your application. All widgets will be native widgets.

#. Set the :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_NativeWindow` attribute on widgets: The widget itself and all of its ancestors will become native (unless :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_DontCreateNativeAncestors` is set).

#. Call :sip:ref:`~PyQt6.QtWidgets.QWidget.winId` to enforce a native window (this implies 3).

#. Set the :sip:ref:`~PyQt6.QtCore.Qt.WidgetAttribute.WA_PaintOnScreen` attribute to enforce a native window (this implies 3).

.. seealso:: :sip:ref:`~PyQt6.QtCore.QEvent`, :sip:ref:`~PyQt6.QtGui.QPainter`, :sip:ref:`~PyQt6.QtWidgets.QGridLayout`, :sip:ref:`~PyQt6.QtWidgets.QBoxLayout`.
